<!DOCTYPE html>
<html>
<head>
    <title>–î–ï–°–Ø–¢–ö–ê | –≠–§–ò–†–ù–û–ï –¢–ï–õ–ï–í–ò–î–ï–ù–ò–ï</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* ===== –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô TV-–†–ï–ñ–ò–ú ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            height: 100vh;
            overflow: hidden;
            cursor: none; /* –°–∫—Ä—ã–≤–∞–µ–º –∫—É—Ä—Å–æ—Ä –∫–∞–∫ –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º –¢–í */
        }
        
        /* ===== –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù ===== */
        .tv-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 1;
        }
        
        #broadcast-video {
            width: 100%;
            height: 100%;
            object-fit: contain; /* –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏, —á–µ—Ä–Ω—ã–µ –ø–æ–ª–æ—Å—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ */
            background: #000;
        }
        
        /* ===== TV-–ò–ù–§–û–†–ú–ê–¶–ò–Ø (–∫–∞–∫ –≤ –¢–í-—É–≥–æ–ª–∫–µ) ===== */
        .tv-info {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 5px solid #ff0000;
            z-index: 10;
            max-width: 400px;
            backdrop-filter: blur(10px);
            animation: fadeIn 1s ease-out;
        }
        
        .tv-logo {
            color: #fff;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
            letter-spacing: 2px;
        }
        
        .tv-channel {
            color: #ff0000;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .tv-program {
            color: #fff;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .tv-time {
            color: #aaa;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
        }
        
        /* ===== TV-–°–¢–ê–¢–£–° (–∫–∞–∫ –≤ —Å—Ç–∞—Ä—ã—Ö –¢–í) ===== */
        .tv-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 10px;
            z-index: 10;
            backdrop-filter: blur(10px);
            text-align: right;
            font-size: 14px;
            color: #0f0;
        }
        
        .status-item {
            margin: 3px 0;
        }
        
        /* ===== TV-–ó–ê–°–¢–ê–í–ö–ê (–ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ) ===== */
        .tv-splash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #000, #111);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        .splash-logo {
            font-size: 48px;
            color: #fff;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff0000;
            animation: glow 2s infinite alternate;
        }
        
        .splash-text {
            color: #aaa;
            text-align: center;
            max-width: 500px;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .splash-loading {
            width: 200px;
            height: 3px;
            background: #333;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .splash-progress {
            height: 100%;
            background: #ff0000;
            width: 0%;
            transition: width 0.3s;
        }
        
        /* ===== TV-–®–£–ú (–ø—Ä–∏ –æ—à–∏–±–∫–µ) ===== */
        .tv-noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                #000 0px,
                #111 1px,
                #222 2px,
                #111 3px,
                #000 4px
            );
            background-size: 100% 4px;
            animation: noise 0.1s infinite;
            display: none;
            z-index: 5;
        }
        
        /* ===== TV-–¢–ï–ö–°–¢ (–±–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞) ===== */
        .tv-ticker {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 0, 0, 0.8);
            color: #fff;
            padding: 10px 0;
            overflow: hidden;
            z-index: 10;
        }
        
        .ticker-text {
            display: inline-block;
            white-space: nowrap;
            animation: ticker 30s linear infinite;
            font-size: 16px;
            padding-left: 100%;
        }
        
        /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
        @keyframes glow {
            from { text-shadow: 0 0 10px #ff0000; }
            to { text-shadow: 0 0 20px #ff0000, 0 0 30px #ff0000; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes noise {
            0% { background-position: 0 0; }
            100% { background-position: 0 4px; }
        }
        
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* ===== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ===== */
        @media (max-width: 768px) {
            .tv-info {
                top: 10px;
                left: 10px;
                right: 10px;
                max-width: none;
            }
            
            .tv-status {
                bottom: 10px;
                right: 10px;
                left: 10px;
                text-align: center;
            }
            
            .splash-logo {
                font-size: 32px;
            }
        }
        
        /* ===== –°–ö–†–´–¢–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ===== */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- TV –®–£–ú (–ø—Ä–∏ –æ—à–∏–±–∫–µ) -->
    <div class="tv-noise" id="tv-noise"></div>
    
    <!-- –ó–ê–°–¢–ê–í–ö–ê –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï -->
    <div class="tv-splash" id="tv-splash">
        <div class="splash-logo">–î–ï–°–Ø–¢–ö–ê TV</div>
        <div class="splash-text" id="splash-text">
            –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —ç—Ñ–∏—Ä–Ω–æ–º—É –≤–µ—â–∞–Ω–∏—é...<br>
            –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: Home818013/vid
        </div>
        <div class="splash-loading">
            <div class="splash-progress" id="splash-progress"></div>
        </div>
    </div>
    
    <!-- –û–°–ù–û–í–ù–û–ô –≠–ö–†–ê–ù -->
    <div class="tv-screen" id="tv-screen">
        <video id="broadcast-video" autoplay muted playsinline>
            <!-- –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
        </video>
    </div>
    
    <!-- TV –ò–ù–§–û–†–ú–ê–¶–ò–Ø -->
    <div class="tv-info" id="tv-info">
        <div class="tv-logo">–î–ï–°–Ø–¢–ö–ê TV</div>
        <div class="tv-channel">üì∫ –≠–§–ò–†–ù–û–ï –í–ï–©–ê–ù–ò–ï</div>
        <div class="tv-program" id="current-program">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã...</div>
        <div class="tv-time">
            <span id="current-time">--:--</span>
            <span id="video-duration">--:--</span>
        </div>
    </div>
    
    <!-- TV –°–¢–ê–¢–£–° -->
    <div class="tv-status" id="tv-status">
        <div class="status-item">üì° –ü–†–Ø–ú–û–ô –≠–§–ò–†</div>
        <div class="status-item">üé¨ <span id="video-count">0</span> –≤–∏–¥–µ–æ –≤ —Ä–æ—Ç–∞—Ü–∏–∏</div>
        <div class="status-item">üïê <span id="uptime">00:00:00</span></div>
        <div class="status-item">üëÅÔ∏è <span id="viewers">1</span> –∑—Ä–∏—Ç–µ–ª—å</div>
    </div>
    
    <!-- –ë–ï–ì–£–©–ê–Ø –°–¢–†–û–ö–ê -->
    <div class="tv-ticker" id="tv-ticker">
        <div class="ticker-text" id="ticker-text">
            –î–ï–°–Ø–¢–ö–ê TV | –≠—Ñ–∏—Ä–Ω–æ–µ –≤–µ—â–∞–Ω–∏–µ | –í–∏–¥–µ–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Home818013/vid | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è | –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —ç—Ñ–∏—Ä—É –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è
        </div>
    </div>

    <script>
        // ===== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –≠–§–ò–†–ê =====
        const BROADCAST_CONFIG = {
            GITHUB_USER: "Home818013",
            REPO_NAME: "Home818013.github.io",
            VIDEOS_PATH: "vid",
            BRANCH: "main",
            BROADCAST_START_TIME: Date.now(), // –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —ç—Ñ–∏—Ä–∞ (–µ–¥–∏–Ω–æ–µ –¥–ª—è –≤—Å–µ—Ö)
            VIDEO_CYCLE_DURATION: 3600000, // 1 —á–∞—Å –Ω–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≤–∏–¥–µ–æ
            SYNC_INTERVAL: 30000 // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        };

        // ===== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï =====
        let broadcastVideos = [];
        let currentBroadcastIndex = 0;
        let broadcastStartTime = 0;
        let viewersCount = 1; // –ù–∞—á–∏–Ω–∞–µ–º —Å 1 (—Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
        let uptimeInterval;

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –≠–§–ò–†–ê =====
        async function initializeBroadcast() {
            const splash = document.getElementById('tv-splash');
            const splashText = document.getElementById('splash-text');
            const splashProgress = document.getElementById('splash-progress');
            
            try {
                // –®–∞–≥ 1: –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
                splashText.textContent = "–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –≤–∏–¥–µ–æ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è...";
                splashProgress.style.width = '30%';
                
                const videos = await loadVideosFromGitHub();
                
                if (videos.length === 0) {
                    throw new Error("–í –ø–∞–ø–∫–µ 'vid' –Ω–µ—Ç –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤!");
                }
                
                broadcastVideos = videos.sort((a, b) => a.name.localeCompare(b.name));
                
                // –®–∞–≥ 2: –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤ —ç—Ñ–∏—Ä–µ
                splashText.textContent = "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —ç—Ñ–∏—Ä–æ–º...";
                splashProgress.style.width = '60%';
                
                await calculateCurrentBroadcastPosition();
                
                // –®–∞–≥ 3: –ó–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ–∏—Ä
                splashText.textContent = "–ó–∞–ø—É—Å–∫ —ç—Ñ–∏—Ä–Ω–æ–≥–æ –≤–µ—â–∞–Ω–∏—è...";
                splashProgress.style.width = '90%';
                
                setTimeout(() => {
                    splash.style.display = 'none';
                    startBroadcast();
                    updateViewersCounter();
                    startUptimeCounter();
                    showBroadcastInfo();
                }, 1000);
                
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ñ–∏—Ä–∞:", error);
                showErrorState(error.message);
            }
        }

        // ===== –ó–ê–ì–†–£–ó–ö–ê –í–ò–î–ï–û –ò–ó GITHUB =====
        async function loadVideosFromGitHub() {
            const apiUrl = `https://api.github.com/repos/${BROADCAST_CONFIG.GITHUB_USER}/${BROADCAST_CONFIG.REPO_NAME}/contents/${BROADCAST_CONFIG.VIDEOS_PATH}?ref=${BROADCAST_CONFIG.BRANCH}`;
            
            const response = await fetch(apiUrl);
            
            if (!response.ok) {
                throw new Error(`–û—à–∏–±–∫–∞ GitHub API: ${response.status}`);
            }
            
            const files = await response.json();
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã
            const videoExtensions = ['.mp4', '.mkv', '.webm', '.avi', '.mov'];
            return files
                .filter(file => 
                    !file.name.startsWith('.') && 
                    videoExtensions.some(ext => file.name.toLowerCase().endsWith(ext))
                )
                .map(file => ({
                    name: file.name,
                    url: `https://raw.githubusercontent.com/${BROADCAST_CONFIG.GITHUB_USER}/${BROADCAST_CONFIG.REPO_NAME}/${BROADCAST_CONFIG.BRANCH}/${BROADCAST_CONFIG.VIDEOS_PATH}/${encodeURIComponent(file.name)}`,
                    size: file.size
                }));
        }

        // ===== –†–ê–°–ß–Å–¢ –¢–ï–ö–£–©–ï–ô –ü–û–ó–ò–¶–ò–ò –í –≠–§–ò–†–ï =====
        async function calculateCurrentBroadcastPosition() {
            // –í—Ä–µ–º—è —Å –Ω–∞—á–∞–ª–∞ —ç—Ñ–∏—Ä–∞ (–º–æ–¥–µ–ª–∏—Ä—É–µ–º, —á—Ç–æ —ç—Ñ–∏—Ä –Ω–∞—á–∞–ª—Å—è –≤ 00:00 —Å–µ–≥–æ–¥–Ω—è)
            const now = new Date();
            const startOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);
            broadcastStartTime = startOfDay.getTime();
            
            // –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å –Ω–∞—á–∞–ª–∞ —ç—Ñ–∏—Ä–∞ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
            const timeSinceStart = Date.now() - broadcastStartTime;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–µ –≤–∏–¥–µ–æ –¥–æ–ª–∂–Ω–æ –∏–¥—Ç–∏ —Å–µ–π—á–∞—Å
            if (broadcastVideos.length > 0) {
                // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –≤—Å–µ –≤–∏–¥–µ–æ –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –¢–í –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏ –≤–∏–¥–µ–æ
                const videoIndex = Math.floor((timeSinceStart / BROADCAST_CONFIG.VIDEO_CYCLE_DURATION) * broadcastVideos.length) % broadcastVideos.length;
                currentBroadcastIndex = videoIndex;
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ —Ç–µ–∫—É—â–µ–≥–æ –≤–∏–¥–µ–æ
                const timeInCycle = timeSinceStart % BROADCAST_CONFIG.VIDEO_CYCLE_DURATION;
                const timePerVideo = BROADCAST_CONFIG.VIDEO_CYCLE_DURATION / broadcastVideos.length;
                const timeInCurrentVideo = timeInCycle % timePerVideo;
                
                return {
                    videoIndex: currentBroadcastIndex,
                    timeInVideo: timeInCurrentVideo / 1000 // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
                };
            }
            
            return { videoIndex: 0, timeInVideo: 0 };
        }

        // ===== –ó–ê–ü–£–°–ö –≠–§–ò–†–ù–û–ì–û –í–ï–©–ê–ù–ò–Ø =====
        function startBroadcast() {
            if (broadcastVideos.length === 0) return;
            
            const videoElement = document.getElementById('broadcast-video');
            const currentVideo = broadcastVideos[currentBroadcastIndex];
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ
            videoElement.src = currentVideo.url;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Full HD —ç—Ñ–∏—Ä–∞
            videoElement.muted = true; // –ö–∞–∫ –≤ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
            videoElement.playsInline = true;
            videoElement.preload = "auto";
            
            // –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ (–±—Ä–∞—É–∑–µ—Ä —Å–∞–º –≤—ã–±–µ—Ä–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ)
            videoElement.addEventListener('loadedmetadata', function() {
                document.getElementById('video-duration').textContent = 
                    formatTime(videoElement.duration);
                
                // –°—Ç–∞–≤–∏–º –Ω–∞ –ø–∞—É–∑—É –≤ –Ω—É–∂–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–µ—Å–ª–∏ –±—ã –±—ã–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
                // videoElement.currentTime = startPosition.timeInVideo;
            });
            
            videoElement.addEventListener('error', function(e) {
                console.error("–û—à–∏–±–∫–∞ –≤–∏–¥–µ–æ:", e);
                skipToNextVideo();
            });
            
            videoElement.addEventListener('ended', function() {
                skipToNextVideo();
            });
            
            // –ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            videoElement.play().catch(e => {
                console.warn("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ:", e);
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –¢–í –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –ø—ã—Ç–∞—Ç—å—Å—è
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
            updateBroadcastInfo();
            
            // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
            setInterval(synchronizeBroadcast, BROADCAST_CONFIG.SYNC_INTERVAL);
        }

        // ===== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –í–ò–î–ï–û =====
        function skipToNextVideo() {
            currentBroadcastIndex = (currentBroadcastIndex + 1) % broadcastVideos.length;
            const videoElement = document.getElementById('broadcast-video');
            const nextVideo = broadcastVideos[currentBroadcastIndex];
            
            videoElement.src = nextVideo.url;
            videoElement.play().catch(e => console.warn("–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–ø–ª–µ—è:", e));
            
            updateBroadcastInfo();
        }

        // ===== –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –≠–§–ò–†–ê =====
        function synchronizeBroadcast() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
            // –°–µ–π—á–∞—Å –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤–∏–¥–µ–æ –∏–≥—Ä–∞–µ—Ç
            const videoElement = document.getElementById('broadcast-video');
            
            if (videoElement.paused && broadcastVideos.length > 0) {
                videoElement.play().catch(e => {
                    // –¢–∏—Ö–∏–π —Ñ–æ–ª–ª–±—ç–∫: –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–∏–¥–µ–æ
                    skipToNextVideo();
                });
            }
            
            updateBroadcastInfo();
        }

        // ===== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–§–û–†–ú–ê–¶–ò–ò –ù–ê –≠–ö–†–ê–ù–ï =====
        function updateBroadcastInfo() {
            if (broadcastVideos.length === 0) return;
            
            const currentVideo = broadcastVideos[currentBroadcastIndex];
            const videoElement = document.getElementById('broadcast-video');
            
            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–∞–º–º–µ
            document.getElementById('current-program').textContent = 
                currentVideo.name.replace(/\.[^/.]+$/, ""); // –£–±–∏—Ä–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
            
            document.getElementById('video-count').textContent = broadcastVideos.length;
            
            // –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
            const now = new Date();
            document.getElementById('current-time').textContent = 
                `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ
            if (videoElement.duration && !isNaN(videoElement.duration)) {
                document.getElementById('video-duration').textContent = 
                    formatTime(videoElement.duration);
            }
        }

        function showBroadcastInfo() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ 5 —Å–µ–∫—É–Ω–¥, –∑–∞—Ç–µ–º —Å–∫—Ä—ã–≤–∞–µ–º
            const info = document.getElementById('tv-info');
            const status = document.getElementById('tv-status');
            const ticker = document.getElementById('tv-ticker');
            
            info.style.display = 'block';
            status.style.display = 'block';
            ticker.style.display = 'block';
            
            // –ß–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ —Å–∫—Ä—ã–≤–∞–µ–º –∏–Ω—Ñ–æ (–∫–∞–∫ –≤ –¢–í)
            setTimeout(() => {
                info.style.opacity = '0';
                status.style.opacity = '0';
                setTimeout(() => {
                    info.style.display = 'none';
                    status.style.display = 'none';
                }, 1000);
            }, 10000);
        }

        // ===== –°–ß–Å–¢–ß–ò–ö–ò =====
        function updateViewersCounter() {
            // –ò–º–∏—Ç–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑—Ä–∏—Ç–µ–ª–µ–π
            const baseViewers = 1 + Math.floor(Math.random() * 50);
            viewersCount = baseViewers;
            
            // –ü–ª–∞–≤–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(() => {
                const change = Math.floor(Math.random() * 5) - 2; // -2..+2
                viewersCount = Math.max(1, viewersCount + change);
                document.getElementById('viewers').textContent = viewersCount;
            }, 30000);
            
            document.getElementById('viewers').textContent = viewersCount;
        }

        function startUptimeCounter() {
            let seconds = 0;
            
            uptimeInterval = setInterval(() => {
                seconds++;
                const hours = Math.floor(seconds / 3600);
                const minutes = Math.floor((seconds % 3600) / 60);
                const secs = seconds % 60;
                
                document.getElementById('uptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // ===== –û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö =====
        function showErrorState(errorMessage) {
            const splash = document.getElementById('tv-splash');
            const noise = document.getElementById('tv-noise');
            
            splash.innerHTML = `
                <div class="splash-logo" style="color:#ff0000">üì° –û–®–ò–ë–ö–ê –≠–§–ò–†–ê</div>
                <div class="splash-text" style="color:#ff6666">
                    ${errorMessage}<br><br>
                    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:<br>
                    1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${BROADCAST_CONFIG.GITHUB_USER}/${BROADCAST_CONFIG.REPO_NAME}<br>
                    2. –ü–∞–ø–∫—É: ${BROADCAST_CONFIG.VIDEOS_PATH}<br>
                    3. –ù–∞–ª–∏—á–∏–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤ (MP4, MKV)<br>
                    4. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
                </div>
                <button onclick="location.reload()" style="
                    margin-top: 20px;
                    background: #ff0000;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 5px;
                    cursor: pointer;
                    font-size: 16px;
                ">–ü–û–í–¢–û–†–ò–¢–¨ –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï</button>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º TV-—à—É–º –Ω–∞ —Ñ–æ–Ω–µ
            noise.style.display = 'block';
        }

        // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
        function formatTime(seconds) {
            if (isNaN(seconds)) return "--:--";
            
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // ===== TV-–ü–û–í–ï–î–ï–ù–ò–ï =====
        document.addEventListener('mousemove', function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ (–∫–∞–∫ –≤ Smart TV)
            const info = document.getElementById('tv-info');
            const status = document.getElementById('tv-status');
            const ticker = document.getElementById('tv-ticker');
            
            info.style.display = 'block';
            status.style.display = 'block';
            ticker.style.display = 'block';
            info.style.opacity = '1';
            status.style.opacity = '1';
            
            // –°–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
            clearTimeout(window.hideTimeout);
            window.hideTimeout = setTimeout(() => {
                info.style.opacity = '0';
                status.style.opacity = '0';
                setTimeout(() => {
                    info.style.display = 'none';
                    status.style.display = 'none';
                }, 1000);
            }, 5000);
        });

        // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–∫–∞–∫ –≤ –¢–í)
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // ===== –ó–ê–ü–£–°–ö –≠–§–ò–†–ê =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üé¨ –î–ï–°–Ø–¢–ö–ê TV - –≠—Ñ–∏—Ä–Ω–æ–µ –≤–µ—â–∞–Ω–∏–µ");
            console.log("üìÅ –ò—Å—Ç–æ—á–Ω–∏–∫: https://github.com/Home818013/Home818013.github.io/tree/main/vid");
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞—Å—Ç–∞–≤–∫—É –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —ç—Ñ–∏—Ä
            initializeBroadcast();
        });
    </script>
</body>
</html>